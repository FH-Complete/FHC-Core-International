{"version":3,"file":"StudentApp.js","sources":["../../../../../js/RESTClient.js","../../../../../extensions/FHC-Core-International/js/api/studiengangsleitung.js","../../../../../extensions/FHC-Core-International/js/api/fhcapifactory.js","../../../../../extensions/FHC-Core-International/js/api/student.js","../../../../../extensions/FHC-Core-International/js/api/massnahme.js","../../../../../js/components/Fetch.js","../../../../../js/components/filter/Filter/Config.js","../../../../../js/components/filter/Filter/Columns.js","../../../../../js/components/filter/Table/Download.js","../../../../../js/directives/collapseAutoClose.js","../../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../../js/api/factory/filter.js","../../../../../js/components/filter/Filter.js","../../../../../js/components/layout/BaseLayout.js","../../../../../js/components/Bootstrap/Modal.js","../../../../../js/components/Form/Input.js","../../../../../js/components/Fragment.js","../../../../../js/components/Form/Upload/Dms.js","../../../../../js/components/Form/Upload/Dms/Item.js","../../../../../extensions/FHC-Core-International/js/components/StudentComponent.js","../../../../../js/components/Loader.js","../../../../../js/api/search.js","../../../../../js/api/phrasen.js","../../../../../js/api/navigation.js","../../../../../js/api/filter.js","../../../../../js/api/studstatus.js","../../../../../js/api/profil.js","../../../../../js/api/profilUpdate.js","../../../../../js/api/lvPlan.js","../../../../../js/api/stv.js","../../../../../js/api/stv/verband.js","../../../../../js/api/stv/students.js","../../../../../js/api/stv/filter.js","../../../../../js/api/stv/konto.js","../../../../../js/api/stv/group.js","../../../../../js/api/stv/kontakt.js","../../../../../js/api/stv/prestudent.js","../../../../../js/api/stv/status.js","../../../../../js/api/stv/details.js","../../../../../js/api/stv/exam.js","../../../../../js/api/stv/abschlusspruefung.js","../../../../../js/api/stv/grades.js","../../../../../js/api/stv/mobility.js","../../../../../js/api/stv/archiv.js","../../../../../js/api/stv/documents.js","../../../../../js/api/stv/exemptions.js","../../../../../js/api/stv/jointstudies.js","../../../../../js/api/stv/courselist.js","../../../../../js/api/notiz.js","../../../../../js/api/notiz/person.js","../../../../../js/api/betriebsmittel.js","../../../../../js/api/betriebsmittel/person.js","../../../../../js/api/checkperson.js","../../../../../js/api/ort.js","../../../../../js/api/cms.js","../../../../../js/api/lehre.js","../../../../../js/api/addons.js","../../../../../js/api/messages.js","../../../../../js/api/messages/person.js","../../../../../js/api/vorlagen.js","../../../../../js/api/studium.js","../../../../../js/api/fhcapifactory.js","../../../../../js/api/dashboard.js","../../../../../js/api/bookmark.js","../../../../../js/api/ampeln.js","../../../../../js/api/studiengang.js","../../../../../js/api/menu.js","../../../../../js/api/authinfo.js","../../../../../js/api/language.js","../../../../../js/plugin/OldFhcApi.js","../../../../../js/plugins/Api.js","../../../../../js/api/factory/phrasen.js","../../../../../js/plugins/Phrasen.js","../../../../../js/plugins/FhcAlert.js","../../../../../js/plugin/FhcApi.js","../../../../../js/plugin/Phrasen.js","../../../../../extensions/FHC-Core-International/js/apps/StudentApp.js","../../../../../js/components/Form/Upload/Image.js"],"sourcesContent":["/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","import {CoreRESTClient} from \"../../../../../public/js/RESTClient.js\";\n\nexport default {\n\tsetStatus(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Studiengangsleitung/setStatus', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tsetNote(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Studiengangsleitung/setNote', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tgetStudents(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.get('extensions/FHC-Core-International/Studiengangsleitung/getStudents', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tloadBenotung(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.get('extensions/FHC-Core-International/Studiengangsleitung/loadBenotungen', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tgetLvs(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.get('extensions/FHC-Core-International/Studiengangsleitung/getLVs', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tgetOrgForms(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.get('extensions/FHC-Core-International/Studiengangsleitung/getOrgForms', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t}\n};\n","import Studiengangsleitung from \"./studiengangsleitung.js\";\nimport Student from \"./student.js\";\nimport Massnahme from \"./massnahme.js\";\n\nexport default {\n\t\"Studiengangsleitung\": Studiengangsleitung,\n\t\"Student\": Student,\n\t\"Massnahme\": Massnahme,\n\n};\n","import {CoreRESTClient} from \"../../../../../public/js/RESTClient.js\";\n\nexport default {\n\n\tdeleteMassnahme(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Student/studentDeleteMassnahme', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tgetData()\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.get('/extensions/FHC-Core-International/Student/getData');\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\taddMassnahme(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Student/studentAddMassnahme', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tuploadNachweis(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Student/studentAddNachweis', data, {Headers: { \"Content-Type\": \"multipart/form-data\" }, timeout: 300000});\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tdeleteNachweis(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Student/studentDeleteNachweis', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t}\n};\n","import {CoreRESTClient} from \"../../../../../public/js/RESTClient.js\";\n\nexport default {\n\thandleSave(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Massnahmen/handleSave', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\tdeleteMassnahme(data)\n\t{\n\t\ttry {\n\t\t\treturn CoreRESTClient.post('/extensions/FHC-Core-International/Massnahmen/deleteMassnahme', data);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\t},\n\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswählen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufügen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthält</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthält nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewählt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewählten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tprops: {\n\t\ttitle: '',\n\t\tsubtitle: '',\n\t\tmainCols: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tasideCols: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t},\n\tcomputed: {\n\t\tmainGridCols() {\n\t\t\treturn this.mainCols.length > 0 ? `col-md-${this.mainCols[0]}` : \"col-md-12\";\n\t\t},\n\t\tasideGridCols() {\n\t\t\treturn this.asideCols.length > 0 ? `col-md-${this.asideCols[0]}` : \"\";\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"overflow-hidden\">\n\t\t<header v-if=\"title\">\n\t\t\t<h1 class=\"h2 mb-5\">{{ title }}<span class=\"fhc-subtitle\">{{ subtitle }}</span></h1>\n\t\t</header>\n\t\t<div class=\"row gx-5\">\n\t\t\t<main :class=\"mainGridCols\">\n\t\t\t\t<slot name=\"main\">{{ mainGridCols }}</slot>\n\t\t\t</main>\n\t\t\t<aside v-if=\"asideCols.length > 0\" :class=\"asideGridCols\">\n\t\t\t\t<slot name=\"aside\">{{ asideGridCols }}</slot>\n\t\t\t</aside>\n\t\t</div>\n\t</div>\n\t`\n};","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n","import {CoreFilterCmpt} from '../../../../js/components/filter/Filter.js';\nimport {CoreRESTClient} from '../../../../js/RESTClient.js';\nimport CoreBaseLayout from '../../../../js/components/layout/BaseLayout.js';\nimport BsModal from '../../../../js/components/Bootstrap/Modal.js';\nimport FormInput from \"../../../../js/components/Form/Input.js\";\nimport Dms from \"../../../../js/components/Form/Upload/Dms.js\";\nimport FhcLoader from '../../../../js/components/Loader.js';\n\nexport default {\n\tname: 'Student',\n\n\tprops: {\n\n\t\tmassnahmen : {\n\t\t\ttype: Array,\n\t\t\trequired: true\n\t\t},\n\t\tstudiensemester : {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t}\n\t},\n\tcomponents: {\n\t\tCoreFilterCmpt,\n\t\tCoreBaseLayout,\n\t\tBsModal,\n\t\tFormInput,\n\t\tDms,\n\t\tFhcLoader\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloadedCategory: false,\n\t\t\tselectedMassnahme: null,\n\t\t\tmodalTitle: '',\n\t\t\tselectedStg: '',\n\t\t\tinternationalskills: false,\n\t\t\tnachweis: {\n\t\t\t\tfiles: []\n\t\t\t},\n\t\t\tformData: {\n\t\t\t\tmassnahme: null,\n\t\t\t\tstudiensemester: null,\n\t\t\t\tanmerkung: null\n\t\t\t},\n\t\t\tphrasesLoaded: null,\n\t\t\tsideMenuEntries: {},\n\t\t\ttabulatorEventHandler: [],\n\t\t}\n\t},\n\tcomputed: {\n\t\ttabulatorOptions() {\n\t\t\treturn {\n\t\t\t\tindex: 'massnahme_zuordnung_id',\n\t\t\t\tajaxURL: CoreRESTClient._generateRouterURI('/extensions/FHC-Core-International/Student/getData'),\n\t\t\t\tajaxResponse: (url, params, response)=>  {\n\t\t\t\t\tif (CoreRESTClient.isSuccess(response))\n\t\t\t\t\t{\n\t\t\t\t\t\tif (CoreRESTClient.hasData(response))\n\t\t\t\t\t\t\treturn CoreRESTClient.getData(response).retval;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn [];\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tmaxHeight: \"100%\",\n\t\t\t\tlayout: 'fitDataStretch',\n\t\t\t\tselectable: false,\n\t\t\t\tplaceholder: \"Keine Daten verfügbar\",\n\t\t\t\tcolumns: [\n\t\t\t\t\t{title: this.$p.t('international', 'meinMassnahmeplan'), headerSort: false, field: 'bezeichnung', tooltip: (e, cell) => {\n\n\t\t\t\t\t\t\tlet div = document.createElement('div');\n\t\t\t\t\t\t\tdiv.style.whiteSpace = 'pre-wrap';\n\t\t\t\t\t\t\tdiv.innerHTML = cell.getData().beschreibung\n\t\t\t\t\t\t\treturn div\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('international', 'internationalCredits'),\n\t\t\t\t\t\tfield: 'ects',\n\t\t\t\t\t\thozAlign: \"right\",\n\t\t\t\t\t\theaderSort: false,\n\t\t\t\t\t\tbottomCalcFormatter: (cell, calcValue) => {\n\t\t\t\t\t\t\treturn this.$p.t('international', 'ectsBestaetigt') + \" \" + cell.getValue() + \".00\";\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbottomCalc: (values, data, calcParams) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar sum = 0;\n\n\t\t\t\t\t\t\tdata.forEach(function(value)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (value.massnahme_status_kurzbz === 'confirmed')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tsum += parseInt(value.ects);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn sum;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tbottomCalcParams:{precision:2}\n\t\t\t\t\t},\n\t\t\t\t\t{title: this.$p.t('international', 'studiensemesterGeplant'), headerSort: false, field: 'studiensemester_kurzbz'},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('global', 'anmerkung'),\n\t\t\t\t\t\tfield: 'anmerkung',\n\t\t\t\t\t\theaderSort: false,\n\t\t\t\t\t\thozAlign: \"center\",\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) =>   {\n\t\t\t\t\t\t\tlet value = cell.getValue()\n\t\t\t\t\t\t\tif (!value)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\tconst icon = document.createElement('i');\n\t\t\t\t\t\t\ticon.className = 'fa fa-info-circle text-primary';\n\t\t\t\t\t\t\ticon.style.cursor = 'pointer';\n\t\t\t\t\t\t\ticon.addEventListener('click', () => {\n\t\t\t\t\t\t\t\tthis.showPopup(value, this.$p.t('global', 'anmerkung'));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\t\t\tdiv.className = \"d-flex justify-content-center\";\n\t\t\t\t\t\t\tdiv.appendChild(icon);\n\t\t\t\t\t\t\treturn div;\n\t\t\t\t\t\t}},\n\t\t\t\t\t{title: this.$p.t('global', 'status'), field: 'massnahme_status_kurzbz', headerSort: false,\n\t\t\t\t\t\tsorter: (a, b, aRow, bRow) => this.customSorter(a, b, aRow, bRow),\n\t\t\t\t\t\tformatter: (cell) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet value = cell.getValue();\n\t\t\t\t\t\t\tswitch (value)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcase 'planned' :\n\t\t\t\t\t\t\t\t\treturn this.$p.t('international', 'geplanteMassnahmen');\n\t\t\t\t\t\t\t\tcase 'accepted' :\n\t\t\t\t\t\t\t\t\treturn this.$p.t('international', 'akzpetierteMassnahmen');\n\t\t\t\t\t\t\t\tcase 'performed' :\n\t\t\t\t\t\t\t\t\treturn this.$p.t('international', 'durchgefuehrteMassnahmen');\n\t\t\t\t\t\t\t\tcase 'confirmed' :\n\t\t\t\t\t\t\t\t\treturn this.$p.t('international', 'bestaetigteMassnahmen');\n\t\t\t\t\t\t\t\tcase 'declined' :\n\t\t\t\t\t\t\t\t\treturn this.$p.t('international', 'abgelehnteMassnahmen');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltip: (e, cell) => {\n\n\t\t\t\t\t\t\tlet value = cell.getValue();\n\t\t\t\t\t\t\tlet text = '';\n\t\t\t\t\t\t\tswitch (value)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tcase 'planned' :\n\t\t\t\t\t\t\t\t\ttext = this.$p.t('international', 'geplanteMassnahmen');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'accepted' :\n\t\t\t\t\t\t\t\t\ttext = this.$p.t('international', 'akzpetierteMassnahmen');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'performed' :\n\t\t\t\t\t\t\t\t\ttext = this.$p.t('international', 'durchgefuehrteMassnahmen');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'confirmed' :\n\t\t\t\t\t\t\t\t\ttext = this.$p.t('international', 'bestaetigteMassnahmen');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\tcase 'declined' :\n\t\t\t\t\t\t\t\t\ttext = this.$p.t('international', 'abgelehnteMassnahmen');\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn text;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('international', 'anmerkungstgl'),\n\t\t\t\t\t\tfield: 'anmerkung_stgl',\n\t\t\t\t\t\theaderSort: false,\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) =>   {\n\n\t\t\t\t\t\t\tlet value = cell.getValue()\n\t\t\t\t\t\t\tif (!value)\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\tconst icon = document.createElement('i');\n\t\t\t\t\t\t\ticon.className = 'fa fa-info-circle text-primary';\n\t\t\t\t\t\t\ticon.style.cursor = 'pointer';\n\t\t\t\t\t\t\ticon.addEventListener('click', () => {\n\t\t\t\t\t\t\t\tthis.showPopup(value, this.$p.t('international', 'anmerkungstgl'));\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\t\t\tdiv.className = \"d-flex justify-content-center\";\n\t\t\t\t\t\t\tdiv.appendChild(icon);\n\t\t\t\t\t\t\treturn div;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('global', 'dokumentePDF'),\n\t\t\t\t\t\tfield: 'dms_id',\n\t\t\t\t\t\theaderSort: false,\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tconst div = document.createElement('div');\n\t\t\t\t\t\t\tconst massnahme = cell.getData().massnahme_zuordnung_id;\n\t\t\t\t\t\t\tconst documentId = cell.getData().dms_id;\n\t\t\t\t\t\t\tconst status = cell.getData().massnahme_status_kurzbz;\n\n\t\t\t\t\t\t\tif (documentId === null && status === 'accepted')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst label = document.createElement('label');\n\t\t\t\t\t\t\t\tlabel.htmlFor = 'fileNachweis_' + massnahme;\n\t\t\t\t\t\t\t\tlabel.className = 'btn btn';\n\t\t\t\t\t\t\t\tlabel.innerHTML = \"<i class='fa fa-upload fa-1x' aria-hidden='true'></i>\";\n\n\t\t\t\t\t\t\t\tconst input = document.createElement('input');\n\t\t\t\t\t\t\t\tinput.type = 'file';\n\t\t\t\t\t\t\t\tinput.name = 'uploadfile';\n\t\t\t\t\t\t\t\tinput.id = 'fileNachweis_' + massnahme;\n\t\t\t\t\t\t\t\tinput.accept = '.pdf';\n\t\t\t\t\t\t\t\tinput.className = 'fileNachweis hidden';\n\t\t\t\t\t\t\t\tinput.style.display = 'none';\n\t\t\t\t\t\t\t\tlabel.appendChild(input);\n\t\t\t\t\t\t\t\tdiv.appendChild(label);\n\t\t\t\t\t\t\t\tinput.addEventListener('change', () =>  {\n\t\t\t\t\t\t\t\t\tif (!input.files.length) {\n\t\t\t\t\t\t\t\t\t\talert('Please select a file');\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tconst file = input.files[0];\n\t\t\t\t\t\t\t\t\tconst data = new FormData();\n\t\t\t\t\t\t\t\t\tdata.append('file', file);\n\t\t\t\t\t\t\t\t\tdata.append('massnahmenZuordnung', massnahme);\n\n\t\t\t\t\t\t\t\t\tthis.uploadNachweis(data);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse if (documentId !== null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst downloadButton = document.createElement('button');\n\t\t\t\t\t\t\t\tdownloadButton.className = 'btn btn';\n\t\t\t\t\t\t\t\tdownloadButton.innerHTML = \"<i class='fa-solid fa-download' aria-hidden = 'true'></i>\";\n\t\t\t\t\t\t\t\tdownloadButton.addEventListener('click', () => window.location.href = CoreRESTClient._generateRouterURI('extensions/FHC-Core-International/Student/studentDownloadNachweis?massnahmenZuordnung=' + massnahme));\n\n\t\t\t\t\t\t\t\tdiv.appendChild(downloadButton);\n\n\t\t\t\t\t\t\t\tif (status !== 'confirmed' && status !== 'declined') {\n\t\t\t\t\t\t\t\t\tconst deleteButton = document.createElement('button');\n\t\t\t\t\t\t\t\t\tdeleteButton.className = 'btn btn';\n\t\t\t\t\t\t\t\t\tdeleteButton.innerHTML = \"<i class='fa-solid fa-trash' aria-hidden = 'true'></i>\";\n\t\t\t\t\t\t\t\t\tdeleteButton.addEventListener('click', () => {\n\t\t\t\t\t\t\t\t\t\tconst data = { 'massnahmenZuordnung': massnahme };\n\t\t\t\t\t\t\t\t\t\tthis.deleteNachweis(data);\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tdiv.appendChild(document.createTextNode(' '));\n\t\t\t\t\t\t\t\t\tdiv.appendChild(deleteButton);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn '-';\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn div;\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttooltip: () => {\n\t\t\t\t\t\t\treturn this.$p.t('ui', 'hochladen');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: this.$p.t('international', 'massnahmeLoeschen'),\n\t\t\t\t\t\tfield: 'massnahmen_status',\n\t\t\t\t\t\theaderSort: false,\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) =>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet status = cell.getData().massnahme_status_kurzbz;\n\n\t\t\t\t\t\t\tif (status !== 'confirmed' && status !== 'declined')\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet deleteMassnahme = this._addButton('fa-solid fa-remove', 'massnahmeLoeschen');\n\t\t\t\t\t\t\t\tdeleteMassnahme.addEventListener('click', () => this.deleteStudentMassnahme(cell));\n\t\t\t\t\t\t\t\treturn deleteMassnahme;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\treturn '-';\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t\tpersistenceID: \"15.04.2025\",\n\t\t\t}\n\t\t},\n\n\t},\n\tasync created() {\n\t\tawait this.$p.loadCategory(['ui', 'international', 'global', 'lehre']).then(() => {\n\t\t\tthis.phrasesLoaded = true;\n\t\t});\n\t},\n\tmethods: {\n\t\tnewSideMenuEntryHandler: function(payload) {\n\t\t\tthis.sideMenuEntries = payload;\n\t\t},\n\t\tshowPopup(value, title)\n\t\t{\n\t\t\tBsModal.popup(\n\t\t\t\tVue.h('div', {\n\t\t\t\t\tstyle: {\n\t\t\t\t\t\twhiteSpace: 'pre-wrap'\n\t\t\t\t\t}\n\t\t\t\t}, value),\n\t\t\t\t{\n\t\t\t\t\tcentered: true,\n\t\t\t\t\tsize: 'lg',\n\t\t\t\t\tbackdrop: true,\n\t\t\t\t},\n\t\t\t\ttitle\n\t\t\t);\n\n\t\t},\n\t\tload: function()\n\t\t{\n\t\t\tVue.$fhcapi.Student.getData().then(response => {\n\n\t\t\t\tif (CoreRESTClient.isSuccess(response.data))\n\t\t\t\t{\n\t\t\t\t\tthis.$refs.massnahmenStudentTable.tabulator.setData(CoreRESTClient.getData(response.data).retval);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t_addButton: function(icon, title)\n\t\t{\n\t\t\tlet button = document.createElement('button');\n\t\t\tbutton.className = 'btn btn';\n\t\t\tbutton.title = this.$p.t('international', title);\n\t\t\tbutton.innerHTML = \"<i class='\"+ icon +\"' aria-hidden = 'true'></i>\";\n\t\t\treturn button;\n\t\t},\n\t\tuploadNachweis: function(data)\n\t\t{\n\t\t\tthis.$refs.loader.show();\n\t\t\tVue.$fhcapi.Student.uploadNachweis(data).then(response => {\n\t\t\t\tif (CoreRESTClient.isSuccess(response.data))\n\t\t\t\t{\n\t\t\t\t\tlet data = CoreRESTClient.getData(response.data)\n\t\t\t\t\tthis.$refs.massnahmenStudentTable.tabulator.updateRow(\n\t\t\t\t\t\tdata.massnahme,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'dms_id' : data.dms_id,\n\t\t\t\t\t\t\t'massnahme_status_kurzbz': 'performed'\n\t\t\t\t\t\t}\n\t\t\t\t\t).then(() => this.setOrder());\n\t\t\t\t}\n\t\t\t}).finally(() => {\n\t\t\t\tthis.$refs.loader.hide();\n\t\t\t});\n\t\t},\n\t\tdeleteNachweis: function(data)\n\t\t{\n\t\t\tVue.$fhcapi.Student.deleteNachweis(data).then(response => {\n\t\t\t\tif (CoreRESTClient.isSuccess(response.data))\n\t\t\t\t{\n\t\t\t\t\tlet data = CoreRESTClient.getData(response.data)\n\t\t\t\t\tthis.$refs.massnahmenStudentTable.tabulator.updateRow(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t'dms_id' : null,\n\t\t\t\t\t\t\t'massnahme_status_kurzbz': 'accepted'\n\t\t\t\t\t\t},\n\t\t\t\t\t).then(() => this.setOrder());\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\treset: function()\n\t\t{\n\t\t\tthis.formData.massnahme = null;\n\t\t\tthis.formData.studiensemester = null;\n\t\t\tthis.formData.anmerkung = null;\n\t\t},\n\t\taddMassnahmeContainer()\n\t\t{\n\t\t\tthis.$refs.addMassnahmeModel.show();\n\t\t},\n\t\taddMassnahme()\n\t\t{\n\t\t\tVue.$fhcapi.Student.addMassnahme(this.formData).then(response => {\n\t\t\t\tif (CoreRESTClient.isSuccess(response.data))\n\t\t\t\t{\n\t\t\t\t\tlet data = CoreRESTClient.getData(response.data);\n\n\t\t\t\t\tthis.$refs.massnahmenStudentTable.tabulator.addRow({\n\t\t\t\t\t\tmassnahme_zuordnung_id: data.massnahme_zuordnung_id,\n\t\t\t\t\t\tbezeichnung: data.bezeichnung,\n\t\t\t\t\t\tmassnahme_status_kurzbz: 'planned',\n\t\t\t\t\t\tdms_id: null,\n\t\t\t\t\t\tstudiensemester_kurzbz: data.studiensemester,\n\t\t\t\t\t\tects: data.ects,\n\t\t\t\t\t\tmassnahme_id: data.massnahme_id,\n\t\t\t\t\t\tstatus: 'planned',\n\t\t\t\t\t\tanmerkung: data.anmerkung\n\t\t\t\t\t}, true);\n\n\t\t\t\t\tthis.reset();\n\t\t\t\t\tthis.$refs.addMassnahmeModel.hide();\n\t\t\t\t}\n\t\t\t}).then(() => {\n\t\t\t\tthis.setOrder()\n\t\t\t});\n\t\t},\n\t\tasync deleteStudentMassnahme (cell)\n\t\t{\n\t\t\tvar status = cell.getData().massnahme_status_kurzbz;\n\n\t\t\tif (status === 'accepted' || status === 'performed')\n\t\t\t\tif (await this.$fhcAlert.confirmDelete() === false) return;\n\n\t\t\tvar data = {\n\t\t\t\t'massnahmenZuordnung' : cell.getData().massnahme_zuordnung_id\n\t\t\t}\n\n\t\t\tVue.$fhcapi.Student.deleteMassnahme(data).then(response => {\n\t\t\t\tif (CoreRESTClient.isSuccess(response.data))\n\t\t\t\t{\n\t\t\t\t\tlet data = CoreRESTClient.getData(response.data)\n\t\t\t\t\tthis.$refs.massnahmenStudentTable.tabulator.deleteRow(data.massnahme_zuordnung_id)\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tshowInfoText()\n\t\t{\n\t\t\tthis.internationalskills = !this.internationalskills;\n\t\t},\n\t\tcustomSorter(a, b, aRow, bRow)\n\t\t{\n\t\t\tconst order = [\"planned\", \"accepted\", \"performed\", \"confirmed\", \"declined\"];\n\t\t\tlet indexA = order.indexOf(a);\n\t\t\tlet indexB = order.indexOf(b);\n\n\t\t\tif (indexA === indexB)\n\t\t\t{\n\t\t\t\tlet nameA = aRow.getData().bezeichnung.toLowerCase();\n\t\t\t\tlet nameB = bRow.getData().bezeichnung.toLowerCase();\n\t\t\t\treturn nameA.localeCompare(nameB);\n\t\t\t}\n\n\t\t\treturn (indexA === -1 ? order.length : indexA) - (indexB === -1 ? order.length : indexB);\n\t\t},\n\t\tsetOrder()\n\t\t{\n\t\t\tthis.$refs.massnahmenStudentTable.tabulator.setSort([\n\t\t\t\t{ column: 'massnahme_status_kurzbz', dir: 'asc'},\n\t\t\t]);\n\t\t}\n\n\t},\n\n\ttemplate: `\n\t<core-base-layout>\n\t\t<template #main>\n\t\t\t<h3 class=\"h4\">{{ $p.t('international', 'internationalskills') }}\n\t\t\t\t<i class=\"fa fa-info-circle text-right\" @click=\"showInfoText\"></i>\n\t\t\t</h3>\n\t\t\t<div class=\"row\" v-show=\"internationalskills\">\n\t\t\t\t<div class=\"col-xl-6\">\n\t\t\t\t\t<div class=\"alert alert-info\" v-html=\"$p.t('international', 'internationalbeschreibung')\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-6 highlight\">\n\t\t\t\t\t<div class=\"card statuscard\">\n\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<table class=\"table table-sm p-3 statustable\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'geplanteMassnahmen') }}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'geplanteMassnahmenDesc') }}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'akzpetierteMassnahmen') }}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'statusAkzeptiertDesc') }}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'durchgefuehrteMassnahmen') }}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'statusDurchgefuehrtDesc') }}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'bestaetigteMassnahmen') }}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'statusBestaetigtDesc') }}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'abgelehnteMassnahmen') }}</td>\n\t\t\t\t\t\t\t\t\t<td class=\"ps-2\">{{ $p.t('international', 'statusAbgelehntDesc') }}</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<hr />\n\t\t\t<core-filter-cmpt\n\t\t\t\tv-if=\"phrasesLoaded\"\n\t\t\t\tref=\"massnahmenStudentTable\"\n\t\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t\t:tabulator-events=\"tabulatorEventHandler\"\n\t\t\t\t@nw-new-entry=\"newSideMenuEntryHandler\"\n\t\t\t\t:table-only=true\n\t\t\t\tnew-btn-label=\"Massnahme\"\n\t\t\t\tnew-btn-show\n\t\t\t\t@click:new=\"addMassnahmeContainer\"\n\t\t\t></core-filter-cmpt>\n\n\t\t\t<bs-modal ref=\"addMassnahmeModel\" class=\"bootstrap-prompt\" dialogClass=\"modal-xl\" @hidden-bs-modal=\"reset\">\n\t\t\t\t<template #title>{{ $p.t('international', 'addMassnahme') }}</template>\n\t\t\t\t<template #default>\n\t\t\t\t\t<div class=\"row row-cols-2\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\tv-model=\"formData.massnahme\"\n\t\t\t\t\t\t\t\tname=\"massnahme\"\n\t\t\t\t\t\t\t\t:label=\"$p.t('international', 'massnahmen')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"null\" disabled selected>{{$p.t('international', 'massnahmen')}}</option> \n\t\t\t\t\t\t\t\t<option v-for=\"massnahme in massnahmen\" :value=\"massnahme\" :title=\"massnahme.bezeichnung\">({{massnahme.ects}} International Credits) {{ massnahme.bezeichnung }}</option>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t\t\tv-model=\"formData.studiensemester\"\n\t\t\t\t\t\t\t\tname=\"studiensemester\"\n\t\t\t\t\t\t\t\t:label=\"$p.t('lehre', 'studiensemester')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<option value=\"null\" disabled selected>{{ $p.t('lehre', 'studiensemester') }}</option> \n\t\t\t\t\t\t\t\t<option v-for=\"ststem in studiensemester\" :value=\"ststem.studiensemester_kurzbz\">{{ ststem.studiensemester_kurzbz }}</option>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"row row-cols-2\">\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<div class=\"form-text\" style=\"white-space: pre-line;\" v-if=\"this.formData.massnahme !== null\" v-html=\"this.formData.massnahme.beschreibung\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t\t<form-input\n\t\t\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t\t\tv-model=\"formData.anmerkung\"\n\t\t\t\t\t\t\t\tname=\"anmerkung\"\n\t\t\t\t\t\t\t\trows=\"2\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t:label=\"$p.t('global', 'anmerkung')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</form-input>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template #footer>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"addMassnahme\">{{$p.t('ui', 'speichern')}}</button>\n\t\t\t\t</template>\n\t\t\t</bs-modal>\n\t\t</template>\n\t</core-base-layout>\n\t<fhc-loader ref=\"loader\" :timeout=\"0\"></fhc-loader>\n\t`\n};","import BsModal from './Bootstrap/Modal.js';\n\nexport default {\n\tcomponents: {\n\t\tBsModal\n\t},\n\tprops: {\n\t\ttimeout: {\n\t\t\ttype: Number,\n\t\t\tdefault: 300\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tt: null,\n\t\t\tstate: 0\n\t\t}\n\t},\n\tmethods: {\n\t\tshow() {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.timeout) {\n\t\t\t\t\t\tthis.state = 1;\n\t\t\t\t\t\tthis.t = window.setTimeout(() => this.$refs.modal.show(), this.timeout);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else\n\t\t\t\t\t\treturn this.$refs.modal.show();\n\t\t\t\tcase 4:\n\t\t\t\t\treturn window.setTimeout(() => this.show(), 1);\n\t\t\t}\n\t\t},\n\t\thide() {\n\t\t\tswitch (this.state) {\n\t\t\t\tcase 1:\n\t\t\t\t\treturn window.clearTimeout(this.t);\n\t\t\t\tcase 2:\n\t\t\t\t\treturn window.setTimeout(() => this.hide(), 1);\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.$refs.modal.hide();\n\t\t\t}\n\t\t}\n\t},\n\tmounted() {\n\t\tthis.$refs.modal.$refs.modal.addEventListener('show.bs.modal', () => {\n\t\t\tthis.state = 2;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('shown.bs.modal', () => {\n\t\t\tthis.state = 3;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('hide.bs.modal', () => {\n\t\t\tthis.state = 4;\n\t\t});\n\t\tthis.$refs.modal.$refs.modal.addEventListener('hidden.bs.modal', () => {\n\t\t\tthis.state = 0;\n\t\t});\n\t},\n\ttemplate: `\n\t<bs-modal ref=\"modal\" class=\"fade text-center\" dialog-class=\"modal-dialog-centered\" backdrop=\"static\" :keyboard=\"false\">\n\t\tLoading...\n\t</bs-modal>`\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","console.warn('plugin/FhcApi.js is DEPRECATED! Use plugins/Api.js instead.');\nimport FhcAlert from '../plugins/FhcAlert.js';\nimport PluginsApi from '../plugins/Api.js';\nimport FhcApiFactory from '../api/fhcapifactory.js';\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\t\tapp.use(FhcAlert);\n\t\tapp.use(PluginsApi);\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tconsole.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","console.warn('plugin/Phrasen.js is DEPRECATED! Use plugins/Phrasen.js instead.');\nimport FhcApi from './FhcApi.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\t\tconst $fhcApi = this.config.globalProperties.$fhcApi;\n\t\tconst $fhcApiFactory = this.config.globalProperties.$fhcApiFactory;\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(\n\t\t\t\t\tApiPhrasen.loadCategory(category)\n\t\t\t\t)\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tapp.use(FhcApi, options?.fhcApi || undefined);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","import fhcapifactory from \"../api/fhcapifactory.js\";\nimport Student from \"../components/StudentComponent.js\";\nimport Phrasen from '../../../../js/plugin/Phrasen.js';\nimport FhcAlert from '../../../../js/plugins/FhcAlert.js';\n\nVue.$fhcapi = (Vue?.$fhcapi === undefined) ? fhcapifactory : {...Vue.$fhcapi, ...fhcapifactory};\n\nconst studentApp = Vue.createApp({\n\tcomponents: {\n\t\tStudent,\n\t\tPhrasen,\n\t}\n});\nstudentApp\n\t.use(primevue.config.default)\n\t.use(Phrasen)\n\t.mount(\"#main\");\n","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}"],"names":["CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","get","wsURL","wsParameters","axiosParameters","_axiosCall","post","isSuccess","response","hasOwnProperty","error","isError","hasData","Object","keys","length","trim","getData","getError","getErrorCode","_generateRouterURI","uri","FHC_JS_DATA_STORAGE_OBJECT","app_root","ci_router","_printDebug","parameters","errorThrown","type","axiosCallObj","method","url","timeout","params","data","prop","axios","fhcapifactory","Studiengangsleitung","setStatus","setNote","getStudents","loadBenotung","getLvs","getOrgForms","Student","deleteMassnahme","addMassnahme","uploadNachweis","Headers","deleteNachweis","Massnahme","handleSave","CoreFetchCmpt","emits","props","refresh","Boolean","apiFunction","required","Function","apiFunctionParameters","watch","newValue","oldValue","this","fetchData","loading","errorMessage","created","methods","apiFunctionResult","Promise","then","successHandler","catch","errorHandler","finally","finallyHandler","setError","$emit","undefined","retval","message","template","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","Array","default","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","computed","types","reduce","a","c","toLowerCase","indexOf","name","n","evt","currentTarget","value","filteredFields","filter","el","condition","alert","addField","push","removeField","index","splice","FilterColumns","selected","names","hide","show","selectedFields","toggle","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","String","iconClass","currentConfig","prototype","toString","call","split","isArray","newConfig","k","v","stringToFileFormatter","icon","label","formatter","map","validateFileFormatter","input","lcInput","includes","window","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","mounted","binding","open","set","contains","target","collapse","bootstrap","Collapse","getInstance","addEventListener","document","beforeUnmount","removeEventListener","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","forEach","column","i","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","_uuid","CoreFilterCmpt","components","directives","onNwNewEntry","title","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","sort","headerFilter","group","page","notSelectedFields","x","filteredData","JSON","parse","stringify","filteredColumns","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","res","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","$p","loadCategory","t","resolve","location","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","$api","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","$refs","on","event","handler","toDelete","childIdx","child","appendChild","counter","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","id","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","children","option","dataFetchedCallback","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","CoreBaseLayout","subtitle","mainCols","asideCols","mainGridCols","asideGridCols","BsModal","modal","fullscreen","backdrop","validator","focus","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","relatedTarget","toggleFullscreen","Modal","popup","body","footer","slots","includedPrimevue","primevue","reject","instance","Vue","createApp","setup","h","class","ref","unmount","result","unmounted","wrapper","parentElement","removeChild","createElement","use","zIndex","overlay","Phrasen$1","Phrasen","mount","FormInput","inheritAttrs","FhcFragment","$slots","inject","registerToForm","from","clearValidationForName","bsFeedback","noAutoClass","noFeedback","inputGroup","containerClass","onInput","valid","feedback","modelValueDummy","hasContainer","autoContainerClass","hasOwn","acc","lcType","tag","validationClass","classes","$attrs","feedbackClass","modelValueCmp","modelValue","idCmp","uid","clearValidation","clearValidationForThisName","setFeedback","selector","$el","parentNode","querySelectorAll","pop","_loadComponents","_","VueDatePicker","PvAutocomplete","UploadImage","UploadDms","defineAsyncComponent","autocomplete","import","beforeMount","beforeUpdate","Dms","DmsItem","File","preview","text","obj","FileList","multiple","inputClass","noList","accept","disabled","stringifyFile","lastModified","lastModifiedDate","size","addFiles","files","dt","DataTransfer","doubles","items","add","removeFile","fileToRemove","upload","dmsFile","massnahmen","studiensemester","FhcLoader","Number","state","setTimeout","clearTimeout","loadedCategory","selectedMassnahme","modalTitle","selectedStg","internationalskills","nachweis","formData","massnahme","anmerkung","phrasesLoaded","sideMenuEntries","tabulatorEventHandler","ajaxURL","ajaxResponse","headerSort","e","cell","div","style","whiteSpace","innerHTML","beschreibung","hozAlign","bottomCalcFormatter","calcValue","getValue","bottomCalc","values","calcParams","sum","massnahme_status_kurzbz","parseInt","ects","bottomCalcParams","precision","formatterParams","onRendered","className","cursor","showPopup","sorter","b","aRow","bRow","customSorter","massnahme_zuordnung_id","documentId","dms_id","status","htmlFor","display","FormData","append","downloadButton","href","deleteButton","massnahmenZuordnung","createTextNode","_addButton","deleteStudentMassnahme","persistenceID","newSideMenuEntryHandler","payload","centered","load","$fhcapi","massnahmenStudentTable","button","loader","updateRow","setOrder","reset","addMassnahmeContainer","addMassnahmeModel","addRow","bezeichnung","studiensemester_kurzbz","massnahme_id","$fhcAlert","confirmDelete","deleteRow","showInfoText","order","indexA","indexB","nameA","nameB","localeCompare","setSort","dir","search","searchsettings","$fhcApi","searchAdvanced","searchdummy","phrasen$2","category","setLanguage","categories","language","getLanguage","getActiveDbLanguages","navigation","getHeader","navigation_page","getMenu","filter$1","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","create","stdsem","grund","errorHandling","cancel","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","query","signal","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","nation","zip","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","replace","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","verband","favorites","students","encodeURIComponent","getUri","prestudent","person","person_id","relative_path","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","ajaxParams","only_open","studiengang_kz_intern","stg_kz","ajaxRequestFunc","checkDoubles","form","confirmErrorHandler","insert","edit","delete","buchungsnr","getBuchungstypen","getGruppen","deleteGroup","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","plz","getFirmen","searchString","getNations","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","save","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","getUid","addNewNotiz","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","ort","getContentID","ort_kurbz","getRooms","datum","von","bis","typ","personenanzahl","getRoomTypes","cms","content","content_id","version","sprache","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","fixtermin","insertvon","kurzbz","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","confirm","ampel_id","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","factory","console","warn","addEndpoints","_get_config","TypeError","_clean_return_value","meta","fhcApiAxios","baseURL","interceptors","request","every","item","newData","entries","nd","key","jsondata","errors","err","_defaultErrorHandlers","code","handled","alertDefault","responseURL","alertError","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","join","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","bind","provide","PluginsApi","_send_array_or_object","func","errs","FhcAlert","DEFAULT_ERROR_CONFIG","success","fail","combine","toast","async","_format_toast","_default","msg","msgs","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","remaining","configoverwrite","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","reactive","loadingModules","user_language","user_locale","server_languages","find","LC_Time","catArray","row","phrase","elem","extractCategory","t_ref","val","match","p1","getValueForLoadedPhrase","FhcPhrasen","cat","lang","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","alertSuccess","summary","life","alertInfo","alertWarning","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","sticky","alertMultiple","messageArray","handleSystemError","errMsg","toUpperCase","stack","handleSystemMessage","resetFormValidation","Event","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","querySelector","CustomEvent","arr","FhcApi","$fhcApiFactory","fhcApi","Image","valueAsBase64DataString","openUploadDialog","fileInput","click","pickFile","reader","FileReader","onload","readAsDataURL","deleteImage"],"mappings":"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"}